import{a as E,b as d,c as F,d as D,e as I,f as S,g as A,h as T,i as L,j as N,l as j,m as B}from"./chunk-OQS7CDZP.js";import{$ as y,B as u,F as c,G as o,H as e,I as m,L as O,M as g,N as p,O as v,P as x,Q as i,R as C,S as f,aa as w,ba as k,ea as z,l as M,m as P,u as l,w as _,x as h}from"./chunk-PLDO6J7J.js";function V(a,n){if(a&1&&(o(0,"div",24),i(1),e()),a&2){let t=p();l(),f(" ",t.getErrorMessage("totalAmount")," ")}}function G(a,n){if(a&1&&(o(0,"div",24),i(1),e()),a&2){let t=p();l(),f(" ",t.getErrorMessage("floors")," ")}}function Y(a,n){a&1&&(o(0,"span"),i(1,"Calcular Divisi\xF3n"),e())}function q(a,n){a&1&&(o(0,"span",25),m(1,"span",26),i(2," Calculando... "),e())}function $(a,n){if(a&1){let t=O();o(0,"button",27),g("click",function(){M(t);let s=p();return P(s.resetCalculator())}),i(1," \u{1F504} Nueva Calculaci\xF3n "),e()}}function U(a,n){if(a&1&&(o(0,"div",45)(1,"span",46),i(2),e(),o(3,"span",47),i(4),e()()),a&2){let t=n.$implicit,r=n.index,s=p(2);v("animation-delay",r*.1+"s"),l(2),f(" \u{1F3E0} Piso ",t.floorNumber," "),l(2),f(" ",s.formatCurrency(t.amount)," ")}}function H(a,n){if(a&1&&(o(0,"div",28)(1,"div",29)(2,"div",30),i(3,"\u{1F4CA} Desglose Detallado"),e(),o(4,"div",31),i(5,"Distribuci\xF3n equitativa por piso"),e()(),o(6,"div",32)(7,"div",33)(8,"span",34),i(9,"\u{1F4B5} Total de la Factura"),e(),o(10,"span",35),i(11),e()(),o(12,"div",33)(13,"span",34),i(14,"\u{1F3E2} N\xFAmero de Pisos"),e(),o(15,"span",35),i(16),e()()(),o(17,"div",36)(18,"div",37),i(19),e(),o(20,"div",38),i(21,"Por piso"),e(),o(22,"div",39),u(23,U,5,4,"div",40),e()(),o(24,"div",41)(25,"div",42)(26,"div",43),i(27,"\u{1F4A1}"),e(),o(28,"div",44)(29,"strong"),i(30,"Distribuci\xF3n Equitativa:"),e(),i(31," Cada piso paga exactamente la misma cantidad, garantizando una divisi\xF3n justa de los costos. "),e()()()()),a&2){let t=p();l(11),C(t.formatCurrency(t.calculation.totalAmount)),l(5),C(t.calculation.floors),l(3),f(" ",t.formatCurrency(t.calculation.amountPerFloor)," "),l(4),c("ngForOf",t.calculation.floorBreakdown)}}var R=class a{constructor(n,t){this.fb=n;this.router=t;this.calculatorForm=this.fb.group({totalAmount:["",[d.required,d.min(.01),d.pattern(/^\d+(\.\d{1,2})?$/)]],floors:["",[d.required,d.min(1),d.max(100),d.pattern(/^\d+$/)]]})}calculatorForm;calculation=null;showResults=!1;isCalculating=!1;ngOnInit(){}onSubmit(){if(this.calculatorForm.valid){this.isCalculating=!0;let{totalAmount:n,floors:t}=this.calculatorForm.value;setTimeout(()=>{this.calculation=this.calculateLuzDivision(parseFloat(n),parseInt(t)),this.showResults=!0,this.isCalculating=!1},800)}else this.markFormGroupTouched()}calculateLuzDivision(n,t){let r=n/t,s=[];for(let b=1;b<=t;b++)s.push({floorNumber:b,amount:r});return{totalAmount:n,floors:t,amountPerFloor:r,floorBreakdown:s}}markFormGroupTouched(){Object.keys(this.calculatorForm.controls).forEach(n=>{this.calculatorForm.get(n)?.markAsTouched()})}getErrorMessage(n){let t=this.calculatorForm.get(n);if(t?.errors&&t?.touched){if(t.errors.required)return`${n==="totalAmount"?"El monto":"El n\xFAmero de pisos"} es requerido`;if(t.errors.min)return n==="totalAmount"?"El monto debe ser mayor a 0":"Debe ser al menos 1 piso";if(t.errors.max)return"M\xE1ximo 100 pisos permitidos";if(t.errors.pattern)return n==="totalAmount"?"Ingrese un monto v\xE1lido (ej: 150000.50)":"Ingrese solo n\xFAmeros enteros"}return""}hasError(n){let t=this.calculatorForm.get(n);return!!(t?.errors&&t?.touched)}formatCurrency(n){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:2}).format(n)}resetCalculator(){this.calculatorForm.reset(),this.calculation=null,this.showResults=!1,this.isCalculating=!1}validateAmount(n){return n>0&&!isNaN(n)}validateFloors(n){return n>0&&n<=100&&Number.isInteger(n)}goToMenu(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||a)(_(j),_(z))};static \u0275cmp=h({type:a,selectors:[["app-luz"]],decls:36,vars:14,consts:[[1,"back-menu-btn",3,"click"],["autoplay","","muted","","loop","","playsinline","",1,"video-background"],["src","assets/principal.mp4","type","video/mp4"],[1,"luz-calculator-container"],[1,"calculator-card"],[1,"header"],[1,"header-icon"],[1,"header-title"],[1,"header-subtitle"],[1,"calculator-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","totalAmount",1,"form-label"],[1,"input-container"],[1,"currency-symbol"],["id","totalAmount","type","number","formControlName","totalAmount","placeholder","150000.00","step","0.01","min","0",1,"form-input"],["class","error-message",4,"ngIf"],["for","floors",1,"form-label"],["id","floors","type","number","formControlName","floors","placeholder","3","min","1","max","100",1,"form-input"],[1,"button-group"],["type","submit",1,"calculate-btn",3,"disabled"],[4,"ngIf"],["class","loading-content",4,"ngIf"],["type","button","class","reset-btn",3,"click",4,"ngIf"],["class","results-container",4,"ngIf"],[1,"error-message"],[1,"loading-content"],[1,"spinner"],["type","button",1,"reset-btn",3,"click"],[1,"results-container"],[1,"results-header"],[1,"results-title"],[1,"results-subtitle"],[1,"breakdown-summary"],[1,"breakdown-item"],[1,"breakdown-label"],[1,"breakdown-value"],[1,"amount-per-floor"],[1,"amount-display"],[1,"amount-label"],[1,"floor-list"],["class","floor-item",3,"animation-delay",4,"ngFor","ngForOf"],[1,"additional-info"],[1,"info-card"],[1,"info-icon"],[1,"info-content"],[1,"floor-item"],[1,"floor-label"],[1,"floor-amount"]],template:function(t,r){t&1&&(o(0,"button",0),g("click",function(){return r.goToMenu()}),i(1,` \u2190 Men\xFA
`),e(),o(2,"video",1),m(3,"source",2),i(4,` Tu navegador no soporta video HTML5.
`),e(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"div",6),i(9,"\u26A1"),e(),m(10,"div"),o(11,"h1",7),i(12,"Calculadora de Luz"),e(),o(13,"p",8),i(14,"Divide tu factura de electricidad entre pisos"),e()(),o(15,"form",9),g("ngSubmit",function(){return r.onSubmit()}),o(16,"div",10)(17,"label",11),i(18," \u{1F4B0} Total de la Factura "),e(),o(19,"div",12)(20,"span",13),i(21,"$"),e(),m(22,"input",14),e(),u(23,V,2,1,"div",15),e(),o(24,"div",10)(25,"label",16),i(26," \u{1F3E2} N\xFAmero de Pisos "),e(),o(27,"div",12),m(28,"input",17),e(),u(29,G,2,1,"div",15),e(),o(30,"div",18)(31,"button",19),u(32,Y,2,0,"span",20)(33,q,3,0,"span",21),e(),u(34,$,2,0,"button",22),e()(),u(35,H,32,4,"div",23),e()()),t&2&&(l(15),c("formGroup",r.calculatorForm),l(4),x("error",r.hasError("totalAmount")),l(4),c("ngIf",r.hasError("totalAmount")),l(4),x("error",r.hasError("floors")),l(2),c("ngIf",r.hasError("floors")),l(2),x("loading",r.isCalculating),c("disabled",r.isCalculating),l(),c("ngIf",!r.isCalculating),l(),c("ngIf",r.isCalculating),l(),c("ngIf",r.showResults),l(),c("ngIf",r.showResults&&r.calculation))},dependencies:[k,y,w,B,I,E,S,F,D,N,L,A,T],styles:['@keyframes _ngcontent-%COMP%_slideIn{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes _ngcontent-%COMP%_glowPulse{0%,to{box-shadow:0 0 20px #667eea4d}50%{box-shadow:0 0 40px #667eea80}}.video-background[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;object-fit:cover;z-index:-1}.luz-calculator-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif}.calculator-card[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.2);border-radius:24px;box-shadow:0 20px 40px #0000001a;padding:45px;width:100%;max-width:500px;position:relative;overflow:hidden}.calculator-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#667eea,#764ba2)}.header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.header-icon[_ngcontent-%COMP%]{font-size:50px;margin-bottom:24px;animation:_ngcontent-%COMP%_pulse 2s infinite}.header-title[_ngcontent-%COMP%]{color:#2d3748;font-size:28px;font-weight:700;margin-bottom:8px;margin-top:8px;background:linear-gradient(135deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.header-subtitle[_ngcontent-%COMP%]{color:#718096;font-size:16px;line-height:1.5}.calculator-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.calculator-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:block;color:#2d3748;font-weight:600;margin-bottom:8px;font-size:14px;text-transform:uppercase;letter-spacing:.5px}.calculator-form[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{position:relative}.calculator-form[_ngcontent-%COMP%]   .input-container.error[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#e53e3e;box-shadow:0 0 0 3px #e53e3e1a}.calculator-form[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:#718096;font-weight:600;pointer-events:none;z-index:1}.calculator-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{width:100%;padding:16px 20px;border:2px solid #e2e8f0;border-radius:12px;font-size:16px;background:#f8fafc;transition:all .3s ease;outline:none;box-sizing:border-box}.calculator-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{border-color:#667eea;background:#fff;box-shadow:0 0 0 3px #667eea1a}.calculator-form[_ngcontent-%COMP%]   .form-input[formControlName=totalAmount][_ngcontent-%COMP%]{padding-left:40px}.calculator-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:disabled{background:#f1f5f9;cursor:not-allowed;opacity:.7}.calculator-form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#e53e3e;font-size:12px;margin-top:6px;font-weight:500;animation:_ngcontent-%COMP%_fadeInUp .3s ease}.button-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;margin-top:32px}.calculate-btn[_ngcontent-%COMP%]{width:100%;padding:16px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:12px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:1px;position:relative;overflow:hidden}.calculate-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 10px 25px #667eea4d}.calculate-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.calculate-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.8}.calculate-btn.loading[_ngcontent-%COMP%]{pointer-events:none}.calculate-btn[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:10px}.calculate-btn[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid #ffffff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}.reset-btn[_ngcontent-%COMP%]{width:100%;padding:12px;background:transparent;color:#718096;border:2px solid #e2e8f0;border-radius:12px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease;text-transform:uppercase;letter-spacing:.5px}.reset-btn[_ngcontent-%COMP%]:hover{background:#f8fafc;color:#2d3748;border-color:#cbd5e0}.results-container[_ngcontent-%COMP%]{margin-top:32px;animation:_ngcontent-%COMP%_slideIn .6s ease-out}.results-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:24px}.results-title[_ngcontent-%COMP%]{color:#2d3748;font-size:20px;font-weight:700;margin-bottom:4px}.results-subtitle[_ngcontent-%COMP%]{color:#718096;font-size:14px}.breakdown-summary[_ngcontent-%COMP%]{display:grid;gap:12px;margin-bottom:24px}.breakdown-summary[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;background:#fff;border-radius:12px;box-shadow:0 2px 8px #0000000d;border-left:4px solid #667eea}.breakdown-summary[_ngcontent-%COMP%]   .breakdown-label[_ngcontent-%COMP%]{color:#2d3748;font-weight:600;font-size:14px}.breakdown-summary[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{color:#2d3748;font-size:18px;font-weight:700}.amount-per-floor[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;text-align:center;padding:24px;border-radius:12px;position:relative;overflow:hidden}.amount-per-floor[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);animation:_ngcontent-%COMP%_pulse 3s infinite}.amount-display[_ngcontent-%COMP%]{font-size:36px;font-weight:800;margin-bottom:8px;position:relative;z-index:1}.amount-label[_ngcontent-%COMP%]{font-size:14px;opacity:.9;margin-bottom:24px;position:relative;z-index:1}.floor-list[_ngcontent-%COMP%]{display:grid;gap:8px;position:relative;z-index:1}.floor-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:#ffffff26;border-radius:8px;border:1px solid rgba(255,255,255,.2);transition:all .3s ease;animation:_ngcontent-%COMP%_fadeInUp .5s ease forwards;opacity:0}.floor-item[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translate(4px)}.floor-label[_ngcontent-%COMP%]{font-weight:500}.floor-amount[_ngcontent-%COMP%]{font-weight:700;font-size:16px}.additional-info[_ngcontent-%COMP%]{margin-top:24px}.info-card[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:12px;padding:16px;background:linear-gradient(135deg,#edf2f7,#e2e8f0);border-radius:12px;border:1px solid #e2e8f0}.info-icon[_ngcontent-%COMP%]{font-size:20px;flex-shrink:0}.info-content[_ngcontent-%COMP%]{color:#2d3748;font-size:14px;line-height:1.5}.info-content[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:600;color:#4a5568}.floor-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.floor-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.floor-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.floor-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.floor-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.floor-item[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}.floor-item[_ngcontent-%COMP%]:nth-child(7){animation-delay:.7s}.floor-item[_ngcontent-%COMP%]:nth-child(8){animation-delay:.8s}.floor-item[_ngcontent-%COMP%]:nth-child(9){animation-delay:.9s}.floor-item[_ngcontent-%COMP%]:nth-child(10){animation-delay:1s}.ng-invalid.ng-touched[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{border-color:#e53e3e;box-shadow:0 0 0 3px #e53e3e1a}@media (max-width: 640px){.calculator-card[_ngcontent-%COMP%]{padding:24px;margin:10px}.header-icon[_ngcontent-%COMP%]{font-size:36px}.header-title[_ngcontent-%COMP%]{font-size:24px}.header-subtitle[_ngcontent-%COMP%]{font-size:14px}.amount-display[_ngcontent-%COMP%]{font-size:28px}.floor-amount[_ngcontent-%COMP%]{font-size:14px}.calculator-form[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{padding:14px 18px}.calculator-form[_ngcontent-%COMP%]   .form-input[formControlName=totalAmount][_ngcontent-%COMP%]{padding-left:36px}.calculator-form[_ngcontent-%COMP%]   .currency-symbol[_ngcontent-%COMP%]{left:14px}}@media (max-width: 480px){.luz-calculator-container[_ngcontent-%COMP%]{padding:10px}.calculator-card[_ngcontent-%COMP%]{padding:20px;border-radius:16px}.header-title[_ngcontent-%COMP%]{font-size:20px}.amount-display[_ngcontent-%COMP%]{font-size:24px}.breakdown-summary[_ngcontent-%COMP%]   .breakdown-item[_ngcontent-%COMP%]{padding:12px}.breakdown-summary[_ngcontent-%COMP%]   .breakdown-value[_ngcontent-%COMP%]{font-size:16px}}.calculator-card[_ngcontent-%COMP%]:hover{box-shadow:0 25px 50px #00000026}.calculate-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #667eea4d}.reset-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #e2e8f080}@media (prefers-reduced-motion: reduce){*[_ngcontent-%COMP%]{animation-duration:.01ms!important;animation-iteration-count:1!important;transition-duration:.01ms!important}}.calculating-state[_ngcontent-%COMP%]{pointer-events:none;opacity:.8}.calculating-state[_ngcontent-%COMP%]   .calculate-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#a0aec0,#cbd5e0)}.success-state[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_glowPulse 2s ease-in-out}.back-menu-btn[_ngcontent-%COMP%]{position:fixed;top:20px;left:20px;background-color:#0061a8;color:#fff;border:none;border-radius:8px;padding:10px 16px;font-size:16px;cursor:pointer;z-index:1000;box-shadow:0 2px 6px #0000004d;transition:background-color .3s,transform .3s;animation:_ngcontent-%COMP%_slideIn .5s ease-out forwards;opacity:0}.back-menu-btn[_ngcontent-%COMP%]:hover{background-color:#004c7a;transform:scale(1.1)}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-50px);opacity:0}to{transform:translate(0);opacity:1}}']})};export{R as Luz};
